#NodeJS只HTTP
###什么是HTTP协议
HTTP(HyperText Transfer Protocol：超文本传输协议)是一套计算机通过网络进行通信的规则。计算机专家设计出HTTP，使HTTP客户（如Web浏览器）能够从HTTP服务器(Web服务器)请求信息和服务，HTTP目前协议的版本是1.1.HTTP是一种无状态的协议，无状态是指Web浏览器和Web服务器之间不需要建立持久的连接，这意味着当一个客户端向服务器端发出请求，然后Web服务器返回响应(response)，连接就被关闭了，在服务器端不保留连接的有关信息.HTTP遵循请求(Request)/应答(Response)模型。Web浏览器向Web服务器发送请求，Web服务器处理请求并返回适当的应答。所有HTTP连接都被构造成一套请求和应答。
###浏览器打开网页的过程
	（1） 首先，你得在浏览器里输入要网址。
	（2） 浏览器查找域名的IP地址
		（2.1）查找浏览器缓存：浏览器会缓存DNS记录一段时间。有趣的是，操作系统没有告诉浏览器储存DNS记录的时间，这样不同浏览
			器会储存个自固定的一个时间（2分钟到30分钟不等）
		（2.2）查找系统缓存：如果在浏览器缓存里没有找到需要的记录，浏览器会做一个系统调用（windows里是gethostbyname）。这
			样便可获得系统缓存中的记录。
		（2.3）查找路由器缓存：接着，前面的查询请求发向路由器，它一般会有自己的DNS缓存。
		（2.4）ISP DNS缓存：接下来要check的就是ISP缓存DNS的服务器。在这一般都能找到相应的缓存记录。
		（2.5）递归搜索：你的ISP的DNS服务器从跟域名服务器始进行递归搜索，从.com顶级域名服务器到Facebook的域名服务器。一般
			DNS服务器的缓存中会有.com域名服务器中的域名，所以到顶级服务器的匹配过程不是那么必要了。
	（3） 浏览器给web服务器发送一个HTTP请求
		（3.1）首先Client端发送连接请求报文。
		（3.2）Server端接受连接后回复ACK报文，并为这次连接分配资源。
		（3.3）Client端接收到ACK报文后也向Server段发生ACK报文，并分配资源。
		（3.4）连接成功。
	（4） 根据相应的路径参数，服务器端处理请求，并返回一个HTML响应。
	（5） 浏览器拿到HTML代码，对整个页面进行解析和渲染，并呈现给用户。。
###HTTP请求的消息格式
	（1） 请求方法URI协议/版本。
	（2） HTTP头：主要为一些附加信息：内容类型，服务器发送响应的日期，HTTP状态码。
	（3） HTTP正文：用户提交的保单数据。
###HTTP请求的方式：
	（1） GET ：获取或读取数据。（注意：GET方法不应当被用于产生“副作用”的操作中）
	（2） POST：提交数据，用于添加新的内容。
	（3） PUT：更新，上传，用于修改某个内容。
	（4） DELETE：删除某个内容
	（5） HEAD：向服务器索与GET请求相一致的响应，只不过响应体将不会被返回。这一方法可以再不必传输整个响应内容的情况下，就
		可以获取包含在响应小消息头中的元信息。
	（6） TRACE：回显服务器收到的请求，主要用于测试或诊断。
	（7） OPTIONS：返回服务器针对特定资源所支持的HTTP请求方法，也可以利用向web服务器发送‘*’的请求来测试服务器的功能性。
###HTTP请求的状态码：
	（1）1XX ：信息类（Information）表示收到Web浏览器请求，正在进一步的处理中（注意：一般都为临时响应）。
		（1.1）100 Continue： 客户端应当继续发送请求。这个临时响应是用来通知客户端它的部分请求已经被服务器接收，且仍未被拒
			绝。
		（1.2）101 Switching Protocols：服务器已经理解了客户端的请求，并将通过Upgrade 消息头通知客户端采用不同的协议来完
			成这个请求。
		（1.3）102 Processing：由WebDAV（RFC 2518）扩展的状态码，代表处理将被继续执行。
	（2）2XX ：成功类（Successful）请求成功接受并处理完成。
		（2.1）200 OK：请求已成功，请求所希望的响应头或数据体将随此响应返回。
		（2.2）201 Created：请求已经被实现，而且有一个新的资源已经依据请求的需要而建立，且其 URI 已经随Location头信息返回。
			假如需要的资源无法及时建立的话，应当返回 '202 Accepted'。
		（2.3）202 Accepted：服务器已接受请求，但尚未处理。正如它可能被拒绝一样，最终该请求可能会也可能不会被执行。在异步操
			作的场合下，没有比发送这个状态码更方便的做法了。
		（2.4）203 Non-Authoritative Information：
		（2.5）204 No Content：服务器成功处理了请求，但不需要返回任何实体内容，并且希望返回更新了的元信息。
	（3）3XX ：重定向类（Redirection）表示请求没有成功，客户必须采取进一步的动作。
		（3.1）300 Multiple Choices：被请求的资源有一系列可供选择的回馈信息，每个都有自己特定的地址和浏览器驱动的商议信息。
			用户或浏览器能够自行选择一个首选的地址进行重定向。除非额外指定，否则这个响应也是可缓存的。
		（3.2）301 Moved Permanently：被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干
			个 URI 之一。
		（3.3）302 Move Temporarily：请求的资源临时从不同的 URI响应请求。由于这样的重定向是临时的，客户端应当继续向原有地
			址发送以后的请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。
		（3.4）303 See Other：对应当前请求的响应可以在另一个 URI 上被找到，而且客户端应当采用 GET的方式访问那个资源。这个
			方法的存在主要是为了允许由脚本激活的POST请求输出重定向到一个新的资源。这个新的URI 不是原始资源的替代引用。同时，
			303响应禁止被缓存。当然，第二个请求（重定向）可能被缓存。
		（3.5）304 Not Modified：如果客户端发送了一个带条件的 GET 请求且该请求已被允许，而文档的内容（自上次访问以来或者
			根据请求的条件）并没有改变，则服务器应当返回这个状态码。304响应禁止包含消息体，因此始终以消息头后的第一个空行结
			尾。
		（3.6）305 Use Proxy：被请求的资源必须通过指定的代理才能被访问。
	（4）4XX ：客户端错误(Client Error)表示客户端提交的请求有错误。
		（4.1）400 Bad Request：a)语义有误，当前请求无法被服务器理解。除非进行修改，否则客户端不应该重复提交这个请求。
			b)请求参数有误。
		（4.2）401 Unauthorized: 当前请求需要用户验证。该响应必须包含一个适用于被请求资源的 WWW-Authenticate信息头用以询
			问用户信息。客户端可以重复提交一个包含恰当的 Authorization头信息的请求。如果当前请求已经包含了 Authorization证
			书，那么401响应代表着服务器验证已经拒绝了那些证书。
		（4.3）402 Payment Required：该状态码是为了将来可能的需求而预留的。
		（4.4）403 Forbidden:服务器已经理解请求，但是拒绝执行它。
		（4.5）404 Not Found：请求失败，请求所希望得到的资源未被在服务器上发现。
		（4.6）407 Proxy Authentication Required：与401响应类似，只不过客户端必须在代理服务器上进行身份验证。代理服务器必
			须返回一个Proxy-Authenticate 用以进行身份询问。客户端可以返回一个 Proxy-Authorization 信息头用以验证。
		（4.7）408 Request Timeout：请求超时。客户端没有在服务器预备等待的时间内完成一个请求的发送。
		（4.8）
	（5）5XX ：服务器错误(Server Error)表示服务器不能完成对请求的处理。
		（5.1）500 Internal Server Error：服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理（一般为代码报错）。
		（5.2）501 Not Implemented：服务器不支持当前请求所需要的某个功能。当服务器无法识别请求的方法，并且无法支持其对任何
			资源的请求。
		（5.3）502 Bad Gateway：作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。
		（5.4）503 Service Unavailable：由于临时的服务器维护或者过载，服务器当前无法处理请求。这个状况是临时的，并在一段时
			间以后恢复。
		（5.5）504 Gateway Timeout：作为网关或者代理工作的服务器尝试执行请求时，未能及时从上游服务器（URI标识出的服务器，
			例如HTTP、FTP、LDAP）或者辅助服务器（例如DNS）收到响应。
